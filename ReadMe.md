# Simple Trailer+Cargo Mod
This repo outlines the files, data and procedure required in order to create a new cargo that appears in the Freight and Quick Job market, associated *only* to a particular trailer/skin.

That is to say, imagine a cargo named "Honey", which you want to only spawn on trailers with a giant bee skin. You can this cargo to only appear in this trailer, and you want this trailer to only be used for this cargo.

### Limitations
This isn't a photoshop guide. You can find the templates for trailer skins and other requirements elsewhere. A basic nomenclature guide is given at the end since some things are rather obtuse.

This guide was written "functionally" in the sense that it works, but it's not an efficient workflow. Plenty of things can be done much more quickly, such as creating both base mods at once, and certain naming conventions may not be strictly necessary. Your end goal is for your mod structure to look like what's under the `Mod Data/` subfolder of this repo. If you can get there faster, good on you.

# General Procedure
1. Generate "Simple Trailer Skin" using MS2
2. Generate "Simple Cargo" using MS2
3. Unpack and merge generated files
4. Add `trailer_def`
5. Point cargo to `trailer_def`
6. Point trailer to `trailder_def`
7. Repackage

# Detailed Procedure
## Step 1 - Generate a Simple Trailer Skin
Pop open MS2 and create a new project, then add the `Standalone trailer` template.  
Fill out the information as usual, with any information you want. Once you're ready, export the mod to a location of your choice.  
At the end of this step, you should have a `.scs` file containing your `Standalone trailer` mod as generated by MS2.

## Step 2 - Generate a "Simple Cargo" Mod
Pop open MS2 and create a new project, then add the `Simple cargo mod` template.  
Fill out the information as usual, with any information you want. Once you're ready, export the mod to the same location of your choice.  
At the end of this step, you should have a `.scs` file containing your `Simple cargo mod` mod as generated by MS2.

## Step 3 - Unpack and Merge Generated Files
`scs` files are just `zip` files. Unpack both generated mods into subfolders so you can access the files, and made a new folder to store your "final" mod in. You should have something like this:  
- `my_cargo_mod/<cargo_mod_files>`
- `my_trailer_mod/<trailer_mod_files>`
- `my_final_mod/`
The next part is a bit tricky, as it will depend on what you've chosen for your mod names and internal names. You will need to merge parts of both mods together into the new folder that was created. In general:
- From your cargo mod subfolder, you need everything under `def/` and `material/`
- From your trailer mod subfolder, you need `automat/`, `vehicle/` and `def/vehicle`
- **!!** At the top level, you'll need `manifest.sii`, `mod_description.txt` and `mod_icon.jpg`. These exist in both generated mods, so pick whichever you'd like. You'll probably want to edit these files manually to add actual descriptions later anyway.

## Step 4 - Add trailer_def File
There is one file not generated by MS2 at all that needs to be added from scratch. Under the `def/vehicle` folder, create another folder called `trailer_defs`. In this folder, create a new file named `body_type.sii`. The contents of this file should match what's in `Mod Data/def/vehicle/trailer_defs/anisfw_tr.sii` in this repo.  
Additionally, two changes need to be made to the file:
- Line 3, `anisfw_tr` should be changed to a name shorter than 12 characters that represents the kind of trailer this is.
- Line 11, `anisfw_tr` should be changed to a name shorter than 12 characters that represents the kind of trailer this is (can be the same as line 3).
Other values can be adjusted as desired if you know what you're doing.

## Step 5 - Point Cargo to trailer_def
Under `def/cargo/<your_cargo>.sui`, make sure there is only a single line containing `body_types[]: <type>`, and replace the type with what you entered on *line 11* of the previous step.

## Step 6 - Point Trailer to trailer_def
Under `def/vehicle/trailer/<your_trailer>.sui`, in the first section (trailer definition), make sure there is only one line  
`trailer_definition: trailer_def.<type>`  
Where `type` is once again what you entered on *line 11* of step 4.

## Step 7 - Repackage
Your mod is now complete. Modify the `manifest.sii` if you want, and zip everything *under* `my_final_mod` back up, and rename the `.zip` to `.scs`. Slap it in the mods folder and you're good to go.

